from search_strategies.best_first_search import BestFirstSearch
from successors import RandomSuccessorFunction


def country_scheduler(self_country_name: str, initial_world_state: dict,
                      output_filename: str, max_best_schedules: int, depth_bound: int,
                      max_frontier_size: int) -> None:

    def successor_fn():
        """
        Returns a list of successor states generated by the generate_random_schedule function.
        """

        sch_gen = RandomSuccessorFunction(self_country_name)

        successors = []
        for _ in range(10):  # of schedules
            successor = sch_gen.generate_random_schedule(1)  # actions/schedule
            successors.append(successor)
        return successors

    search_obj = BestFirstSearch()
    search_obj.search(self_country_name, initial_world_state, successor_fn,
                      depth_bound, max_frontier_size, max_best_schedules)

    for schedule in search_obj.best_schedules:
        for action in schedule.actions:
            print(str(action))
        print(" EU: " + str(schedule.score))
        print("############################################################")

    ######################################
    # write schedule to file
    ######################################
    # with open(output_filename, 'w') as f:
    #     writer = csv.writer(f)
    #     for i in range(num_output_schedulers):
    #         writer.writerow(best_schedules[)
